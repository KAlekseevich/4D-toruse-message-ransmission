# Моделирование механизма передачи сообщений в коммуникационной сети суперкомпьютера

## Описание проекта
Этот проект представляет собой программную модель механизма передачи сообщений в коммуникационной сети суперкомпьютера, реализованную на основе **четырехмерного тора (4D тор)**.  
Программа моделирует сеть узлов, соединенных по определенным правилам, выполняет поиск оптимального маршрута передачи сообщений и управляет процессом их доставки, минимизируя затраты по времени.

## Введение
Задачей проекта является разработка программного приложения, моделирующего процесс передачи сообщений между узлами суперкомпьютерной сети. В рамках модели реализовано:
- Описание заданной конфигурации соединений.
- Функция отправки сообщений, включающая вычисление маршрута передачи с минимальным временем.
- Дискретная модель времени, позволяющая пользователю управлять шагами моделирования.

Сеть организована по топологии **четырехмерного тора размерностью 3×5×3×4**, где каждый узел соединен с соседними по каждому измерению.  
На каждом временном шаге пользователь может задать до **10 сообщений**, после чего запустить процесс передачи данных.

---

## Математическое описание
### Коммуникационные сети суперкомпьютеров
Коммуникационные сети суперкомпьютеров предназначены для высокоскоростного обмена данными между вычислительными узлами. Топология сети определяет способ соединения узлов и влияет на производительность системы.

### Топология 4D тора
**4D тор** — это четырехмерная структура, в которой узлы соединены циклически в каждом из четырех измерений.  
В такой сети:
- Каждый узел имеет координаты **(x, y, z, w)**.
- У каждого узла есть **ровно 8 соседей**: по два в каждом измерении (вперед и назад).
- Если узел находится на границе сети, он соединяется с противоположным узлом, образуя замкнутую структуру.

![Рис. 1. Структура топологии 4D тор](https://github.com/user-attachments/assets/529163c1-7baf-49e5-87b5-8810f1bdba20)

Топология 4D тора обеспечивает:
- **Высокую отказоустойчивость**: выход одного узла из строя не приводит к полному разрыву сети.
- **Эффективную маршрутизацию**: благодаря множеству возможных путей передачи сообщений.
- **Хорошую масштабируемость**: увеличение количества узлов сохраняет стабильную производительность.

### Принцип маршрутизации
Передача сообщений осуществляется с учетом топологии 4D тора. При этом:
1. Вычисляется **кратчайший маршрут** между отправителем и получателем.
2. Маршрут выбирается так, чтобы минимизировать число переходов.
3. При необходимости используются **альтернативные пути**,
 если основные перегружены.

---

## Особенности реализации
Программа реализована на языке **C++** и использует объектно-ориентированный подход.

### Структура программы
Основные компоненты:
- **Класс Node**  
  - Представляет узел сети.  
  - Хранит координаты (x, y, z, w) и состояние занятости.
  - Методы позволяют получать координаты, проверять занятость и находить соседние узлы.
  
- **Класс Network**  
  - Описывает всю сеть в формате 4D тора.
  - Реализует **поиск кратчайшего пути** между узлами.
  - Управляет **передачей сообщений** с учетом задержек.
 
  ![Рис. 2. Пример сформированной конфигурации 4D тора](https://github.com/user-attachments/assets/d27b4bfe-5f8d-4083-84fc-e056d646c9e3)

---

- **Функции маршрутизации**  
  - Поиск пути выполняется с использованием **модифицированного алгоритма Дейкстры**.
  - Сеть учитывает **циклические связи** при вычислении маршрутов.

### Дискретное моделирование времени
Программа работает в пошаговом режиме:
1. Пользователь задает **до 10 сообщений** на отправку.
2. Запускается **передача данных**, при этом:
   - Для каждого сообщения выбирается **оптимальный маршрут**.
   - Учитываются задержки при пересылке через узлы и коммутаторы.
3. Время продвигается **на один шаг**.

### Учет пропускной способности
Каждое соединение в сети имеет **ограниченную пропускную способность**, равную **3 единицам**.  
Если узел перегружен, сообщение **ждет следующего шага**, прежде чем быть переданным.

---

## Результаты работы программы

При запуске программы пользователю предлагается выбрать действие: 1 - отправка сообщения, 2 - завершение программы (Рис. 3). 

![Рис. 3. Меню программы для работы с коммуникационной сетью](https://github.com/user-attachments/assets/3dc1337a-bf16-4bf3-894c-7c49dda92248)

При некорректном вводе адресов отправителя, получателя и длины сообщения программа сообщает о некорректном вводе и запрашивает адрес до тех пор, пока данные не будут введены корректно (Рис. 4).

![Рис. 4. Обработка некорректного ввода](https://github.com/user-attachments/assets/45b212ed-d95b-4e42-9b65-407e90e2e626)

После ввода адреса источника, длины сообщения и адреса получателя начинается отправление сообщения по шагам (Рис. 5). 

![Рис. 5. Отправка сообщения. Шаг 1](https://github.com/user-attachments/assets/09182977-3601-42e8-8a12-abd106c6b009)

В начале каждого шага пользователю предлагается переслать параллельно от 0 до 10 новых сообщений (Рис. 6).

![Рис. 6. Отправка нескольких сообщений](https://github.com/user-attachments/assets/b3f7073c-3554-4ea0-8570-8fbdc840785a)

Когда все сообщения были отправлены, в консоль выводится соответствующее сообщение (Рис. 7).

![Рис. 7. Завершение отправки сообщений](https://github.com/user-attachments/assets/de239014-b29b-48b7-ad4b-5517e00649f6)

После того, как пользователь переслал все желаемые сообщения, он может завершить выполнение программы, выбрав в меню действие 2 - завершение программы (Рис. 8).

![Рис. 8. Выход из программы](https://github.com/user-attachments/assets/87eb03d4-3887-4dc3-82b4-504e4e9e0b8b)

---

## Возможности и перспективы развития
Разработанная программа демонстрирует возможности **моделирования коммуникационных сетей суперкомпьютеров с топологией 4D тора**.  
Реализованные алгоритмы позволяют:
- **Эффективно передавать сообщения** даже при высокой нагрузке.
- **Минимизировать задержки**, используя несколько возможных маршрутов.
- **Контролировать процесс передачи** за счет дискретного управления временем.

### Возможные улучшения:
1. **Динамическое изменение топологии**  
   - Добавление или удаление узлов во время работы симуляции.
   - Переконфигурация соединений для тестирования различных условий.

2. **Улучшение алгоритмов маршрутизации**  
   - Введение **алгоритмов балансировки нагрузки** для равномерного распределения трафика.
   - Использование **искусственного интеллекта** для адаптивного выбора маршрутов.

3. **Оптимизация многопоточной передачи**  
   - Улучшение параллельной обработки сообщений для повышения производительности.

---

## Инструкции по запуску
1. Скомпилировать проект с помощью компилятора **g++**:
   
sh
   g++ -o simulation 4D_toruse_message_ransmission.cpp 
